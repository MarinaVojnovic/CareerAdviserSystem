//created on: 9 May 2020
package sbnz.integracija
import java.util.*;

rule "Your First Rule"

	agenda-group "results"
	no-loop
	lock-on-active
    when
        $l : List( size > 0) from collect (PossibleProfession())
        $results : RecommendedProfessions($professions : professions);
    then
        System.out.println("All possible professions collected : "+$l.size());
        Collections.sort($l, new Comparator<PossibleProfession>(){
        
		   @Override
		   public int compare(PossibleProfession p1,PossibleProfession p2) {
			   	if (p1.getScore() < p2.getScore()){
			   		return 1;
			   	}
			   	else if(p1.getScore() == p2.getScore()){
			   		return 0;
			   	}else{
			   		return -1;
			   	}
		   		
		   	}
        });
       for (Object pp : $l){
       	PossibleProfession prof = (PossibleProfession) pp;
       	System.out.println(prof.getScore());
       	$professions.add(prof);
       }

end

rule "Your Second Rule"
    //include attributes such as "salience" here...
    when
        //conditions
    then
        //actions

end
